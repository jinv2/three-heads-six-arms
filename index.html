<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¸‰å¤´å…­è‡‚åˆ›ä¸–ç³»ç»Ÿ</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            min-height: 100vh;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }
        h1 {
            text-align: center;
            font-size: 3rem;
            margin-bottom: 10px;
        }
        .subtitle {
            text-align: center;
            opacity: 0.9;
            margin-bottom: 30px;
        }
        textarea {
            width: 100%;
            height: 100px;
            padding: 15px;
            border: 2px solid rgba(255,255,255,0.3);
            border-radius: 10px;
            background: rgba(255,255,255,0.1);
            color: white;
            font-size: 16px;
            margin-bottom: 20px;
            resize: vertical;
        }
        textarea::placeholder {
            color: rgba(255,255,255,0.5);
        }
        button {
            background: white;
            color: #667eea;
            border: none;
            padding: 15px 40px;
            font-size: 18px;
            border-radius: 50px;
            cursor: pointer;
            font-weight: bold;
            width: 100%;
            transition: transform 0.2s;
        }
        button:hover {
            transform: translateY(-2px);
        }
        .results {
            margin-top: 40px;
            display: none;
        }
        .card {
            background: rgba(255,255,255,0.1);
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            border-left: 4px solid white;
        }
        .card h3 {
            margin-bottom: 10px;
            color: #ffd700;
        }
        footer {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid rgba(255,255,255,0.2);
            font-size: 0.9rem;
            opacity: 0.7;
        }
        /* æ–°å¢æ ·å¼ */
        .loading {
            text-align: center;
            padding: 20px;
            font-size: 1.2rem;
        }
        .gene-tag {
            display: inline-block;
            background: rgba(255,255,255,0.2);
            padding: 4px 10px;
            border-radius: 15px;
            margin: 2px;
            font-size: 0.85rem;
        }
        .arm-button {
            background: rgba(255,255,255,0.15);
            color: white;
            border: 1px solid rgba(255,255,255,0.3);
            padding: 8px 15px;
            margin: 5px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.2s;
        }
        .arm-button:hover {
            background: rgba(255,255,255,0.3);
            transform: scale(1.05);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ§¬ ä¸‰å¤´å…­è‡‚åˆ›ä¸–ç³»ç»Ÿ</h1>
        <p class="subtitle">è¶…çº§ä¸ªä½“è·¨ç•Œåˆ›é€ å¹³å° Â· åŸºäºå…±ç”Ÿåè®® v1.0</p>
        
        <div>
            <textarea id="input" placeholder="æè¿°æ‚¨çš„ä¸“ä¸šèƒ½åŠ›ï¼Œä¾‹å¦‚ï¼šæˆ‘æ˜¯ä¸€åä¼ ç»Ÿä¹¦æ³•å®¶ï¼Œæ“…é•¿ç”¨ç¬”å¢¨è¡¨ç°æ°”éŸµä¸æ„å¢ƒ..."></textarea>
            <button onclick="generateWithAI()">ğŸš€ ç”Ÿæˆè·¨ç•Œæ–¹æ¡ˆ</button>
        </div>
        
        <div class="results" id="results">
            <h2>ğŸ¯ æ‚¨çš„ä¸‰å¤´å…­è‡‚æ–¹æ¡ˆ</h2>
            
            <div class="card">
                <h3>ğŸ“– æ–‡å­¦å¤´ - å™äº‹æ„å»º</h3>
                <p id="literature">æ­£åœ¨è¿æ¥æ™ºèƒ½åŸºå› åº“...</p>
            </div>
            
            <div class="card">
                <h3>ğŸµ éŸ³ä¹å¤´ - èŠ‚å¥è®¾è®¡</h3>
                <p id="music">æ­£åœ¨åˆ†æèŠ‚å¥æ¨¡å¼...</p>
            </div>
            
            <div class="card">
                <h3>ğŸ¬ å½±è§†å¤´ - è§†è§‰å™äº‹</h3>
                <p id="film">æ­£åœ¨æ„å»ºè§†è§‰æ¡†æ¶...</p>
            </div>
            
            <div class="card">
                <h3>ğŸ¦¾ å…­è‡‚æ‰§è¡Œä½“ç³»</h3>
                <p id="execution">æ­£åœ¨ç”Ÿæˆæ‰§è¡Œæ–¹æ¡ˆ...</p>
            </div>
            
            <!-- æ–°å¢ï¼šäº‘ç«¯åŸºå› å±•ç¤ºåŒºåŸŸ -->
            <div class="card" id="genesContainer" style="display:none;">
                <h3>ğŸ§  æ™ºèƒ½åŒ¹é…çš„æ–¹æ³•åŸºå› </h3>
                <div id="genesList"></div>
            </div>
        </div>
        
        <footer>
            <p>Â© 2024 ä¸‰å¤´å…­è‡‚åˆ›ä¸–ç³»ç»Ÿ | åè®®é©±åŠ¨ Â· é›†ä½“è¿›åŒ–</p>
            <p style="font-size: 0.8rem; margin-top: 5px;">GitHub: jinv2/three-heads-six-arms | äº‘ç«¯åŸºå› åº“å·²è¿æ¥</p>
        </footer>
    </div>
    
    <!-- å•†ä¸šåŒ–æ¨¡å— -->
    <div id="commercialPanel" style="display:none; margin-top: 40px; padding: 20px; background: rgba(255,255,255,0.1); border-radius: 10px;">
        <h3>ğŸ’° å•†ä¸šåŒ–å·¥å…·</h3>
        
        <div class="commercial-tools" style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; margin: 20px 0;">
            <button class="arm-button" onclick="generateQuote()">ç”ŸæˆæŠ¥ä»·å•</button>
            <button class="arm-button" onclick="createProposal()">åˆ›å»ºå®¢æˆ·ææ¡ˆ</button>
            <button class="arm-button" onclick="showPayment()">è®¾ç½®æ”¯ä»˜æ–¹å¼</button>
            <button class="arm-button" onclick="calculateROI()">ROIè®¡ç®—å™¨</button>
        </div>
        
        <div id="quoteResult" style="margin-top: 20px; display:none;">
            <h4>æŠ¥ä»·å•é¢„è§ˆ</h4>
            <div id="quoteContent"></div>
            <button class="arm-button" onclick="downloadQuote()">ä¸‹è½½PDF</button>
        </div>
    </div>

    <script>
    // ==================== æ ¸å¿ƒAPIè¿æ¥å‡½æ•° ====================
    async function searchMethodGenes(userInput, options = {}) {
        try {
            // æ„å»ºæŸ¥è¯¢å‚æ•°
            const params = new URLSearchParams({ 
                query: userInput,
                ...(options.domain && { domain: options.domain }),
                ...(options.tag && { tag: options.tag }),
                limit: options.limit || 5
            });
            
            // è°ƒç”¨äº‘ç«¯Netlify Function
            const response = await fetch(`/.netlify/functions/searchGenes?${params}`);
            
            if (!response.ok) {
                throw new Error(`APIè¯·æ±‚å¤±è´¥: ${response.status}`);
            }
            
            const result = await response.json();
            
            if (!result.success) {
                console.error('APIè¿”å›é”™è¯¯:', result.error);
                return [];
            }
            
            return result.data;
            
        } catch (error) {
            console.error('æœç´¢æ–¹æ³•åŸºå› å¤±è´¥:', error);
            return [];
        }
    }

    // ==================== æ–°ç‰ˆç”Ÿæˆå‡½æ•°ï¼ˆè¿æ¥äº‘ç«¯ï¼‰ ====================
    async function generateWithAI() {
        const input = document.getElementById('input').value.trim();
        if (!input) {
            alert('è¯·è¾“å…¥æ‚¨çš„ä¸“ä¸šèƒ½åŠ›æè¿°');
            return;
        }
        
        // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
        document.getElementById('results').style.display = 'block';
        document.getElementById('literature').innerHTML = '<div class="loading">ğŸ” æ­£åœ¨æœç´¢æ–¹æ³•åŸºå› åº“...</div>';
        document.getElementById('music').innerHTML = '<div class="loading">ğŸµ åˆ†æèŠ‚å¥ä¸æƒ…ç»ªæ¨¡å¼...</div>';
        document.getElementById('film').innerHTML = '<div class="loading">ğŸ¬ æ„å»ºè§†è§‰å™äº‹æ¡†æ¶...</div>';
        document.getElementById('execution').innerHTML = '<div class="loading">ğŸ¦¾ ç”Ÿæˆå…­è‡‚æ‰§è¡Œæ–¹æ¡ˆ...</div>';
        
        // éšè—ä¹‹å‰çš„åŸºå› å±•ç¤º
        document.getElementById('genesContainer').style.display = 'none';
        
        // 1. è°ƒç”¨äº‘ç«¯åŸºå› åº“
        const methodGenes = await searchMethodGenes(input);
        
        if (methodGenes.length === 0) {
            // é™çº§æ–¹æ¡ˆï¼šä½¿ç”¨æœ¬åœ°é€»è¾‘
            generateFallback(input);
            return;
        }
        
        // 2. å±•ç¤ºåŒ¹é…åˆ°çš„åŸºå› 
        displayMatchedGenes(methodGenes);
        
        // 3. åŸºäºåŸºå› ç”Ÿæˆä¸‰å¤´å…­è‡‚æ–¹æ¡ˆ
        generateThreeHeadsFromGenes(input, methodGenes);
        
        // 4. æ˜¾ç¤ºå•†ä¸šåŒ–å·¥å…·
        setTimeout(() => {
            showCommercialTools();
        }, 500);
        
        // æ»šåŠ¨åˆ°ç»“æœ
        document.getElementById('results').scrollIntoView({ behavior: 'smooth' });
    }

    // ==================== å±•ç¤ºåŒ¹é…çš„åŸºå›  ====================
    function displayMatchedGenes(genes) {
        const genesList = document.getElementById('genesList');
        genesList.innerHTML = '';
        
        genes.forEach(gene => {
            const geneHtml = `
                <div style="margin-bottom: 15px; padding: 15px; background: rgba(255,255,255,0.05); border-radius: 10px;">
                    <strong style="color: #ffd700;">${gene.title}</strong>
                    <p style="margin: 8px 0; font-size: 0.9rem;">${gene.description}</p>
                    <div>
                        <span style="opacity: 0.8;">æ¥æº: ${gene.origin_domain}</span>
                        <div style="margin-top: 8px;">
                            ${gene.tags.map(tag => `<span class="gene-tag">#${tag}</span>`).join('')}
                        </div>
                        <div style="margin-top: 10px;">
                            <small>å¯åº”ç”¨äº: ${gene.applicable_domains.join(', ')}</small>
                        </div>
                    </div>
                </div>
            `;
            genesList.innerHTML += geneHtml;
        });
        
        document.getElementById('genesContainer').style.display = 'block';
    }

    // ==================== åŸºäºåŸºå› ç”Ÿæˆä¸‰å¤´æ–¹æ¡ˆ ====================
    function generateThreeHeadsFromGenes(input, genes) {
        // æå–å…³é”®è¯
        const keywords = genes.map(g => g.title).join('ã€');
        const domains = [...new Set(genes.flatMap(g => g.applicable_domains))].slice(0, 3);
        
        // æ–‡å­¦å¤´ - åŸºäºå™äº‹ç±»åŸºå› 
        const literatureGenes = genes.filter(g => 
            g.tags.some(tag => ['å™äº‹', 'ç»“æ„', 'åŸå‹', 'éšå–»'].includes(tag))
        );
        document.getElementById('literature').innerHTML = literatureGenes.length > 0 
            ? `åŸºäºåŸºå› ã€Œ${literatureGenes[0].title}ã€ï¼Œåˆ›ä½œä¸€éƒ¨èåˆä¼ ç»Ÿä¸ç°ä»£çš„å™äº‹ä½œå“ã€‚æ ¸å¿ƒï¼š${literatureGenes[0].description.substring(0, 80)}...`
            : `åŸºäº"${input.substring(0, 30)}..."ï¼Œåˆ›ä½œä¸€éƒ¨æ¢è®¨ä¸“ä¸šä»·å€¼çš„æ–‡å­¦ä½œå“ï¼Œèåˆ${keywords}ç­‰å…ƒç´ ã€‚`;
        
        // éŸ³ä¹å¤´ - åŸºäºèŠ‚å¥ç±»åŸºå› 
        const musicGenes = genes.filter(g => 
            g.tags.some(tag => ['èŠ‚å¥', 'æƒ…ç»ª', 'ç»“æ„', 'å¯¹æ¯”'].includes(tag))
        );
        document.getElementById('music').innerHTML = musicGenes.length > 0
            ? `åº”ç”¨ã€Œ${musicGenes[0].title}ã€åŸºå› ï¼Œè®¾è®¡å…·æœ‰${musicGenes[0].tags.join('ã€')}ç‰¹å¾çš„å£°éŸ³ä½“éªŒï¼Œé€‚ç”¨äº${domains[0] || 'å¤šåœºæ™¯'}ã€‚`
            : `å°†æ‚¨çš„ä¸“ä¸šéŸµå¾‹è½¬åŒ–ä¸º${domains[0] || 'è·¨ç•Œ'}é¢†åŸŸçš„èŠ‚å¥è®¾è®¡ï¼Œåˆ›é€ ç‹¬ç‰¹çš„æƒ…ç»ªæ›²çº¿ã€‚`;
        
        // å½±è§†å¤´ - åŸºäºè§†è§‰ç±»åŸºå› 
        const filmGenes = genes.filter(g => 
            g.tags.some(tag => ['è§†è§‰', 'ç©ºé—´', 'æ„è±¡', 'æ„å›¾'].includes(tag))
        );
        document.getElementById('film').innerHTML = filmGenes.length > 0
            ? `è¿ç”¨ã€Œ${filmGenes[0].title}ã€æ‰‹æ³•ï¼Œåˆ¶ä½œç³»åˆ—è§†è§‰å†…å®¹ï¼Œé‡ç‚¹å±•ç°ï¼š${filmGenes[0].description.substring(0, 100)}...`
            : `æ‹æ‘„${domains[1] || 'ä¸“ä¸š'}ä¸»é¢˜çš„è§†è§‰å™äº‹ä½œå“ï¼Œè§£æ„æ ¸å¿ƒæ¦‚å¿µï¼Œé€‚åˆæ•°å­—åª’ä½“ä¼ æ’­ã€‚`;
        
        // å…­è‡‚æ‰§è¡Œ
        const executionSteps = [
            `è¯Šæ–­: è¯†åˆ«å‡º${genes.length}ä¸ªæ ¸å¿ƒæ–¹æ³•åŸºå› `,
            `å«æ¥: åŒ¹é…åˆ°${domains.join('ã€')}é¢†åŸŸ`,
            `æ¶æ„: è®¾è®¡${genes.length * 2}å‘¨å®æ–½è·¯çº¿`,
            `ç‰©æ–™: ç”Ÿæˆæ–‡æ¡ˆã€è§†è§‰ã€æ–¹æ¡ˆæ¨¡æ¿`,
            `å˜ç°: åˆ¶å®š${genes.length * 3}-${genes.length * 8}ä¸‡æŠ¥ä»·èŒƒå›´`,
            `ååŒ: æ¨è${genes.length * 2}ä¸ªèµ„æºæ¸ é“`
        ];
        document.getElementById('execution').innerHTML = executionSteps.join(' Â· ');
    }

    // ==================== é™çº§æ–¹æ¡ˆï¼ˆæ— ç½‘ç»œæ—¶ï¼‰ ====================
    function generateFallback(input) {
        document.getElementById('literature').innerHTML = 
            `åŸºäº"${input.substring(0, 30)}..."ï¼Œåˆ›ä½œä¸€éƒ¨æ¢è®¨ä¼ ç»Ÿä¸ç°ä»£èåˆçš„ä¸­ç¯‡å°è¯´ï¼Œé‡ç‚¹å±•ç°æŠ€è‰ºä¼ æ‰¿çš„ç°ä»£è¡¨è¾¾ã€‚`;
        
        document.getElementById('music').innerHTML = 
            `å°†æ‚¨çš„éŸµå¾‹æ„Ÿå’Œç©ºé—´æ„Ÿè½¬åŒ–ä¸ºå®éªŒéŸ³ä¹ä½œå“ï¼Œèåˆä¼ ç»Ÿå…ƒç´ ä¸ç°ä»£ç”µå­éŸ³æ•ˆï¼Œåˆ›é€ ç‹¬ç‰¹çš„å¬è§‰ä½“éªŒã€‚`;
        
        document.getElementById('film').innerHTML = 
            `æ‹æ‘„ç³»åˆ—çŸ­è§†é¢‘ï¼Œç”¨è§†è§‰è¯­è¨€è§£æ„ä¼ ç»ŸæŠ€è‰ºï¼Œæ¯é›†èšç„¦ä¸€ä¸ªæ ¸å¿ƒæ¦‚å¿µï¼Œé€‚åˆç¤¾äº¤åª’ä½“ä¼ æ’­ã€‚`;
        
        document.getElementById('execution').innerHTML = 
            `1.è¯Šæ–­ï¼šè§£æ„å‡º3ä¸ªæ ¸å¿ƒå…ƒèƒ½åŠ› Â· 2.å«æ¥ï¼šåŒ¹é…åˆ°å“ç‰Œè®¾è®¡ã€ä½“éªŒç­–åˆ’ã€æ•™è‚²äº§å“3ä¸ªé¢†åŸŸ Â· 3.æ¶æ„ï¼šè®¾è®¡12å‘¨å®æ–½è·¯çº¿ Â· 4.ç‰©æ–™ï¼šç”Ÿæˆæ–‡æ¡ˆã€è§†è§‰ã€éŸ³é¢‘ç´ æåŒ… Â· 5.å˜ç°ï¼šåˆ¶å®š5-20ä¸‡æŠ¥ä»·æ–¹æ¡ˆ Â· 6.ååŒï¼šæ¨èåˆä½œèµ„æºä¸å·¥å…·`;
        
        // æç¤ºç”¨æˆ·
        alert('âš ï¸ ä½¿ç”¨æœ¬åœ°æ¨¡å¼ç”Ÿæˆï¼ˆäº‘ç«¯åŸºå› åº“æœªå“åº”ï¼‰');
    }

    // ==================== å•†ä¸šåŒ–åŠŸèƒ½ ====================
    const commercial = {
        generateQuote: function() {
            const skill = document.getElementById('input')?.value || 'ä¸“ä¸šæŠ€èƒ½';
            
            // å°è¯•è·å–åŒ¹é…çš„åŸºå› æ¥ç”Ÿæˆæ›´ç²¾å‡†çš„æŠ¥ä»·
            const input = document.getElementById('input').value;
            searchMethodGenes(input, { limit: 1 }).then(genes => {
                const basePrice = genes.length > 0 ? 8 + genes[0].complexity_level * 2 : 8;
                
                const quote = {
                    é¡¹ç›®: skill + 'è·¨ç•Œæ–¹æ¡ˆ',
                    æŠ¥ä»·: `${basePrice}-${basePrice * 3}ä¸‡å…ƒ`,
                    å‘¨æœŸ: `${genes.length > 0 ? genes[0].complexity_level : 3}ä¸ªæœˆ`,
                    äº¤ä»˜ç‰©: ['æ–¹æ¡ˆæ–‡æ¡£', 'å®æ–½æŒ‡å¯¼', 'åŸ¹è®­ææ–™', 'å”®åæ”¯æŒ'],
                    ä»˜æ¬¾æ–¹å¼: '50%é¢„ä»˜ï¼Œ50%äº¤ä»˜å',
                    åŸºå› æ”¯æ’‘: genes.length > 0 ? `åŸºäºã€Œ${genes[0].title}ã€æ–¹æ³•åŸºå› ` : 'æ ‡å‡†æ–¹æ¡ˆ',
                    æœ‰æ•ˆæœŸ: '30å¤©'
                };
                
                document.getElementById('quoteContent').innerHTML = `
                    <p><strong>é¡¹ç›®:</strong> ${quote.é¡¹ç›®}</p>
                    <p><strong>æŠ¥ä»·:</strong> ${quote.æŠ¥ä»·}</p>
                    <p><strong>å‘¨æœŸ:</strong> ${quote.å‘¨æœŸ}</p>
                    <p><strong>äº¤ä»˜ç‰©:</strong> ${quote.äº¤ä»˜ç‰©.join(', ')}</p>
                    <p><strong>æ–¹æ³•æ”¯æ’‘:</strong> ${quote.åŸºå› æ”¯æ’‘}</p>
                    <p><strong>ä»˜æ¬¾æ–¹å¼:</strong> ${quote.ä»˜æ¬¾æ–¹å¼}</p>
                `;
                document.getElementById('quoteResult').style.display = 'block';
            });
        },
        
        createProposal: function() {
            const skill = document.getElementById('input')?.value || 'æ‚¨çš„ä¸“ä¸š';
            const proposal = `
# å•†ä¸šåˆä½œææ¡ˆ

## é¡¹ç›®æ¦‚è¿°
åŸºäºæ‚¨çš„ "${skill}" èƒ½åŠ›ï¼Œæä¾›å®Œæ•´çš„è·¨ç•Œè§£å†³æ–¹æ¡ˆã€‚

## æ–¹æ³•åŸºå› æ”¯æ’‘
ç³»ç»Ÿå·²åŒ¹é…ç›¸å…³æ–¹æ³•åŸºå› ï¼Œç¡®ä¿æ–¹æ¡ˆçš„ä¸“ä¸šæ€§ä¸åˆ›æ–°æ€§ã€‚

## æœåŠ¡å†…å®¹
1. å¸‚åœºåˆ†æ + å®šä½ç­–ç•¥
2. è·¨ç•Œæ–¹æ¡ˆè®¾è®¡
3. å®æ–½è·¯çº¿å›¾
4. æˆæœäº¤ä»˜ + ä¼˜åŒ–

## æŠ•èµ„ä¸å›æŠ¥
- é¡¹ç›®æŠ•èµ„: 8-25ä¸‡å…ƒ
- é¢„è®¡å›æŠ¥: 30-100ä¸‡å…ƒ
- å‘¨æœŸ: 3-6ä¸ªæœˆ
- ROI: 300-500%

## è”ç³»æ–¹å¼
ç”µè¯: 400-xxx-xxxx
é‚®ç®±: contact@threeheads.com
            `;
            
            alert('ææ¡ˆå·²ç”Ÿæˆï¼è¯·å¤åˆ¶ä»¥ä¸‹å†…å®¹ï¼š\n\n' + proposal);
        },
        
        showPayment: function() {
            const methods = [
                { name: 'æ”¯ä»˜å®', rate: '0.6%', min: 100 },
                { name: 'å¾®ä¿¡æ”¯ä»˜', rate: '0.6%', min: 100 },
                { name: 'é“¶è¡Œå¡', rate: '1.5%', min: 1000 },
                { name: 'PayPal', rate: '3.4%', min: 10 }
            ];
            
            let html = '<h4>æ”¯ä»˜æ–¹å¼</h4>';
            methods.forEach(m => {
                html += `<div style="margin: 10px 0; padding: 10px; border: 1px solid rgba(255,255,255,0.2);">
                    <strong>${m.name}</strong><br>
                    è´¹ç‡: ${m.rate} | æœ€ä½: ${m.min}å…ƒ
                </div>`;
            });
            
            document.getElementById('quoteContent').innerHTML = html;
            document.getElementById('quoteResult').style.display = 'block';
        }
    };

    // ==================== é¡µé¢åˆå§‹åŒ– ====================
    document.addEventListener('DOMContentLoaded', function() {
        // åœ¨ç”Ÿæˆç»“æœåæ˜¾ç¤ºå•†ä¸šåŒ–å·¥å…·
        const resultsDiv = document.getElementById('results');
        if (resultsDiv) {
            resultsDiv.insertAdjacentHTML('afterend', `
                <div style="text-align: center; margin: 30px 0;">
                    <button onclick="showCommercialTools()" style="
                        background: linear-gradient(135deg, #10b981 0%, #059669 100%);
                        color: white;
                        padding: 12px 30px;
                        border: none;
                        border-radius: 25px;
                        font-size: 16px;
                        cursor: pointer;
                    ">
                        ğŸš€ è½¬åŒ–ä¸ºå•†ä¸šé¡¹ç›®
                    </button>
                </div>
            `);
        }
    });

    function showCommercialTools() {
        document.getElementById('commercialPanel').style.display = 'block';
        document.getElementById('commercialPanel').scrollIntoView({ behavior: 'smooth' });
    }

    // ==================== æš´éœ²å‡½æ•°åˆ°å…¨å±€ ====================
    window.generateQuote = commercial.generateQuote;
    window.createProposal = commercial.createProposal;
    window.showPayment = commercial.showPayment;
    window.calculateROI = function() {
        alert('ROIè®¡ç®—å™¨ï¼š\n\nè¾“å…¥é¡¹ç›®æŠ•èµ„ä¸é¢„æœŸå›æŠ¥ï¼Œç³»ç»Ÿå°†è‡ªåŠ¨è®¡ç®—æŠ•èµ„å›æŠ¥ç‡ã€‚\n\nï¼ˆæ­¤åŠŸèƒ½éœ€ç»“åˆå…·ä½“é¡¹ç›®æ•°æ®ï¼‰');
    };
    window.downloadQuote = function() {
        alert('PDFä¸‹è½½åŠŸèƒ½éœ€é…ç½®æœåŠ¡å™¨ç«¯ç”Ÿæˆã€‚\n\nå½“å‰å¯å¤åˆ¶æŠ¥ä»·å•å†…å®¹æ‰‹åŠ¨åˆ›å»ºæ–‡æ¡£ã€‚');
    };
    </script>
</body>
</html>
